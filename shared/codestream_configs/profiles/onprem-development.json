//   OnPrem configuration for local development (on localhost)
//
//   ****  DO NOT EDIT THIS FILE - YOUR CHANGES WILL BE OVERWRITTEN   ****
//
//   Copy this template file to a new file in the same directory and complete it.
//   Use a symbolic link (~/.codestream/config/codestream-services-config.json)
//   to make one of the configs active for use with the default sandbox
//   configuration.
//
//   - Profile:        onprem-development.json
//   - Storage:        mongo
//   - Broadcast:      broadcaster
//   - Queuing:        rabbitMQ via docker
//         mac:             docker run -d -P --name csrabbitmq teamcodestream/rabbitmq-onprem:0.0.0
//         remote-linux:    docker run -d -P --network="host" --name csrabbitmq teamcodestream/rabbitmq-onprem:0.0.0
//   - Outbound mail:  NodeMailer/smtp (via your codestream gmail account)

{
	"adminServer": {
		"defaultEnv": {},
		"pdop": {
			"port": 8080,
			"securePort": 8443
		}
	},
	"apiServer": {
		"defaultEnv": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"dontWantAWS": true
		},
		"local": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"dontWantAWS": true,
			"helpIsAvailable": true
		},
		"pdop": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"dontWantAWS": true,
			"helpIsAvailable": true,
			"ignoreHttps": true,
			"port": 80,
			"publicApiUrl": "http://${CSSVC_ENV}.codestream.us",
			"securePort": 443
		}
	},
	"broadcastEngine": {
		"codestreamBroadcaster": {
			"ci": {
				"logger": {},
				"secrets": {
					"_loadSecretsFile": "codestream/ci-bcast-secrets.cfg"
				},
				"showConfig": false
			},
			"defaultEnv": {
				"logger": {},
				"secrets": {
					"_loadSecretsFile": "codestream/dev-bcast-secrets.cfg"
				},
				"showConfig": false
			},
			"local": {
				"logger": {},
				"secrets": {
					"_loadSecretsFile": "codestream/local-bcast-secrets.cfg"
				},
				"showConfig": false
			},
			"pdop": {
				"host": "${CSSVC_ENV}.codestream.us",
				"ignoreHttps": true,
				"logger": {},
				"port": 12080,
				"secrets": {
					"_loadSecretsFile": "codestream/dev-bcast-secrets.cfg"
				},
				"securePort": 12443,
				"showConfig": false
			},
			"pi": {
				"logger": {},
				"secrets": {
					"_loadSecretsFile": "codestream/ci-bcast-secrets.cfg"
				},
				"showConfig": false
			}
		}
	},
	"email": {
		"ci": {
			"replyToDomain": "ci.codestream.com",
			"senderEmail": "ci_alerts@codestream.com",
			"supportEmail": "ci_support@codestream.com"
		},
		"defaultEnv": {
			"emailTo": null,
			"replyToDomain": "${CSSVC_ENV}.codestream.com",
			"senderEmail": "${CSSVC_ENV}_alerts@codestream.com",
			"supportEmail": "${CSSVC_ENV}_support@codestream.com",
			"suppressEmails": false
		},
		"local": {}
	},
	"emailDeliveryService": {
		"defaultEnv": {
			"NodeMailer": {
				"host": "mail-relay.codestream.us",
				"port": 25,
				"secure": false
			}
		}
	},
	"inboundEmailServer": {
		"defaultEnv": {}
	},
	"integrations": {
		"asana": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "asana/dev.cfg"
				}
			}
		},
		"bitbucket": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "bitbucket/dev.cfg"
				}
			}
		},
		"devops": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "microsoft/devops-dev.cfg"
				}
			}
		},
		"github": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "github/dev.cfg"
				}
			}
		},
		"gitlab": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "gitlab/dev.cfg"
				}
			}
		},
		"jira": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "atlassian/dev.cfg"
				}
			}
		},
		"linear": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "linear/dev.cfg"
				}
			}
		},
		"msteams": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "microsoft/teams-local.cfg"
				}
			}
		},
		"okta": {
			"localInstallation": {
				"defaultEnv": {
					"_loadSecretsFile": "okta/dev.cfg"
				}
			}
		},
		"slack": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "slack/dev-combined.cfg"
				}
			}
		},
		"trello": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "trello/codestreamops.cfg"
				}
			}
		}
	},
	"outboundEmailServer": {
		"ci": {},
		"defaultEnv": {
			"showConfig": true,
			"storage": {
				"mongo": {
					"url": "mongodb://${CSSVC_ENV}-api.codestream.us/codestream"
				}
			}
		},
		"local": {},
		"pdop": {}
	},
	"queuingEngine": {
		"ci": {
			"awsSQS": {
				"outboundEmailQueueName": "ci_outboundEmail"
			}
		},
		"defaultEnv": {
			"awsSQS": {
				"outboundEmailQueueName": "${CSSVC_ENV}_outboundEmail"
			}
		},
		"local": {
			"rabbitmq": {}
		},
		"pdop": {
			"rabbitmq": {}
		}
	},
	"sharedGeneral": {
		"ci": {
			"runTimeEnvironment": "ci"
		},
		"defaultEnv": {},
		"dev": {
			"runTimeEnvironment": "dev"
		},
		"local": {
			"runTimeEnvironment": "local"
		},
		"pdop": {
			"installationId": "00000000-1111-2222-3333-444444444444",
			"runTimeEnvironment": "pdop"
		},
		"pi": {
			"runTimeEnvironment": "pi"
		}
	},
	"sharedSecrets": {
		"ci": {
			"_loadSecretsFile": "codestream/ci-secrets.cfg"
		},
		"defaultEnv": {
			"_loadSecretsFile": "codestream/dev-secrets.cfg"
		},
		"local": {
			"_loadSecretsFile": "codestream/local-secrets.cfg"
		}
	},
	"ssl": {
		"defaultEnv": {
			"cafile": "/etc/pki/wildcard.codestream.us/wildcard.codestream.us-ca",
			"certfile": "/etc/pki/wildcard.codestream.us/wildcard.codestream.us-crt",
			"keyfile": "/etc/pki/wildcard.codestream.us/wildcard.codestream.us-key"
		},
		"local": {},
		"pdop": {}
	},
	"storage": {
		"mongo": {
			"defaultEnv": {},
			"pdop": {
				"url": "mongodb://pd-api.codestream.us/codestream"
			}
		}
	},
	"telemetry": {
		"intercom": {
			"defaultEnv": {
				"_loadSecretsFile": "intercom/dev.cfg"
			}
		},
		"segment": {
			"defaultEnv": {
				"_loadSecretsFile": "segment/dev-api.cfg"
			}
		}
	}
}
